(()=>{"use strict";function e(e){return e-273.15}function t(e){return e.toLocaleDateString("en-EN",{weekday:"long"})}const n=function(n){document.querySelector(".cityName").innerText=o.toUpperCase(),function(e){let t=document.querySelector(".time"),n=new Date(1e3*e.current.dt);t.innerText=`${function(e){let t=e.getHours(),n=e.getMinutes(),o=t>=12?"PM":"AM";return t%=12,t=t||12,n=n<10?"0"+n:n,t+":"+n+" "+o}(n).toUpperCase()}`}(n),function(e){document.querySelector(".state").innerText=e.current.weather[0].description.toUpperCase()}(n),function(t){document.querySelector(".temp").innerText=`${Math.round(e(t.current.temp))}째C`}(n),function(t){document.querySelector(".feels-like").innerText=`${Math.round(e(t.current.feels_like))}째C`}(n),function(e){document.querySelector(".dayIcon").src=`http://openweathermap.org/img/wn/${e.current.weather[0].icon}@2x.png`}(n),function(e){document.querySelector(".hum").innerText=`${e.current.humidity}%`}(n),function(e){document.querySelector(".wind").innerText=`${e.current.wind_speed} km/h`}(n),function(t){document.querySelector(".dew").innerText=`${Math.round(e(t.current.dew_point))}째C`}(n),async function(){const n=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${o}&appid=6c73731beb6f52c866916db135e9734f`);!function(n){const o=document.querySelectorAll(".day"),a=document.querySelectorAll(".daily-icon"),r=document.querySelectorAll(".daily-temp"),c=Array.from(o),i=Array.from(a),d=Array.from(r);let u=0;for(let o=8;o<n.list.length;o+=8)c[u].innerText=t((s=n.list[o].dt,new Date(1e3*s))),i[u].src=`http://openweathermap.org/img/wn/${n.list[o].weather[0].icon}@2x.png`,d[u].innerText=`${Math.round(e(n.list[o].main.temp))}째C`,u++;var s}(await n.json())}(),function(e){switch(document.body.classList.remove(...document.body.classList),e.current.weather[0].main){case"Clouds":document.body.classList.add("cloud");break;case"Rain":document.body.classList.add("rain");break;case"Snow":document.body.classList.add("snow");break;case"Thunderstorm":document.body.classList.add("thunderstorm");break;case"Drizzle":document.body.classList.add("drizzle");break;case"Clear":document.body.classList.add("clear");break;default:document.body.classList.add("mist")}}(n)};let o="Istanbul";window.addEventListener("load",(async function(){const e=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat=41.0351&lon=28.9833&exclude=daily&appid=6c73731beb6f52c866916db135e9734f"),t=await e.json();n(t)})),switchTemp(),function(){const e=document.querySelector("input");document.querySelector("form").addEventListener("submit",(t=>{t.preventDefault(),o=e.value,async function(){try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${o}&appid=6c73731beb6f52c866916db135e9734f`);!async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e.coord.lat}&lon=${e.coord.lon}&exclude=minutely,hourly,daily&appid=6c73731beb6f52c866916db135e9734f`),o=await t.json();n(o)}catch(e){alert("This is not a city")}}(await e.json())}catch(e){alert("This is not a city")}}(),e.value=""}))}()})();